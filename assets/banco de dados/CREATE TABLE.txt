


---NOVA TABELA 26/02 ----
CREATE DATABASE controle_entregas_db;
CREATE TABLE entregas (
    id INT AUTO_INCREMENT PRIMARY KEY,
    filial VARCHAR(50) NOT NULL,
    codigo_cliente VARCHAR(20) NOT NULL,
    razao_social VARCHAR(100) NOT NULL,
    transportadora VARCHAR(100) NOT NULL,
    cnpj_transportadora VARCHAR(20) NOT NULL,
    cnpj_cpf_cliente VARCHAR(20) NOT NULL,
    numero_nota VARCHAR(50) NOT NULL,
    foto_nota VARCHAR(255),
    data_hora DATETIME DEFAULT CURRENT_TIMESTAMP,
    boleto_entregue ENUM('Sim', 'N達o') NOT NULL DEFAULT 'N達o'
);
CREATE TABLE usuarios (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    senha VARCHAR(255) NOT NULL,
    tipo_usuario ENUM('comum', 'admin') NOT NULL DEFAULT 'comum'
);

user banco: gtrack
senha: 6Tr@ck6@6

--- NOVA TABELA DIA 07/03 ----

CREATE DATABASE controle_entregas_db;
USE controle_entregas_db;

-- Tabela de Filiais
CREATE TABLE filiais (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(50) NOT NULL
);

-- Tabela de Clientes
CREATE TABLE clientes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    codigo_cliente VARCHAR(20) UNIQUE NOT NULL,
    razao_social VARCHAR(100) NOT NULL,
    cnpj_cpf VARCHAR(20) UNIQUE NOT NULL
);

-- Tabela de Transportadoras
CREATE TABLE transportadoras (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    cnpj VARCHAR(20) UNIQUE NOT NULL
);

-- Tabela de Entregas
CREATE TABLE entregas (
    id INT AUTO_INCREMENT PRIMARY KEY,
    filial_id INT NOT NULL,
    cliente_id INT NOT NULL,
    transportadora_id INT NOT NULL,
    numero_nota VARCHAR(50) NOT NULL,
    foto_nota VARCHAR(255),
    data_hora DATETIME DEFAULT CURRENT_TIMESTAMP,
    boleto_entregue ENUM('Sim', 'N達o') NOT NULL DEFAULT 'N達o',
    FOREIGN KEY (filial_id) REFERENCES filiais(id) ON DELETE CASCADE,
    FOREIGN KEY (cliente_id) REFERENCES clientes(id) ON DELETE CASCADE,
    FOREIGN KEY (transportadora_id) REFERENCES transportadoras(id) ON DELETE CASCADE
);



